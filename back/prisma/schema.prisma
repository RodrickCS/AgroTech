// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Funcionarios {
  id_funcionario Int    @id @default(autoincrement())
  nome           String
  email          String @unique
  senha          String
  role           String @default("Comum")
  telefone       String
  cpf            String @unique
  endereco       String
}

model Motoristas {
  id_motorista Int        @id @default(autoincrement())
  nome         String
  telefone     String
  cpf          String     @unique
  endereco     String
  veiculos     Veiculos[]
}

model Manutencoes {
  id_manutencao Int       @id @default(autoincrement())
  id_veiculo    Int
  data_inicio   DateTime
  data_fim      DateTime?
  valor_gasto   Float
  descricao     String
}

model Frota {
  id_frota Int        @id @default(autoincrement())
  tipo     String
  veiculos Veiculos[]
}

model Veiculos {
  id_veiculo Int        @id @default(autoincrement())
  modelo     String
  placa      String
  cor        String
  tipo       String
  idMotorista     Int
  motoristas Motoristas @relation(fields: [idMotorista], references: [id_motorista])
  frota      Frota      @relation(fields: [idFrota], references: [id_frota])
  idFrota    Int
}
